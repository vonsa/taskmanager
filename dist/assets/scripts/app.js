!function(t){function e(e){for(var s,i,n=e[0],o=e[1],c=0,l=[];c<n.length;c++)i=n[c],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);for(a&&a(e);l.length;)l.shift()()}var s={},r={0:0};function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],s=r[t];if(0!==s)if(s)e.push(s[2]);else{var n=new Promise((function(e,i){s=r[t]=[e,i]}));e.push(s[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(t){return i.p+""+t+".app.js"}(t);var a=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(l);var s=r[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",a.name="ChunkLoadError",a.type=i,a.request=n,s[1](a)}r[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=s,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="assets/scripts/",i.oe=function(t){throw console.error(t),t};var n=window.webpackJsonp=window.webpackJsonp||[],o=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var a=o;i(i.s=1)}([function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));class r{static clearEventListeners(t){const e=t.cloneNode(!0);return t.replaceWith(e),e}static moveElement(t,e){const s=document.getElementById(t);document.querySelector(e).append(s),s.scrollIntoView({behavior:"smooth"})}}},function(t,e,s){"use strict";s.r(e);var r=s(0);class i{constructor(t){this.type=t,this.projects=[],this.connectDroppable(),this.thisListResultMessage=document.querySelector(`#${t}-projects .projects__results-message`)}connectDroppable(){const t=document.querySelector(`#${this.type}-projects ul`);t.addEventListener("dragstart",t=>{this.lastDraggedElement=t.target,this.otherProjectList.lastDraggedElement=t.target,t.target.classList.add("current-drag"),t.target.classList.remove("drag-out")}),t.addEventListener("dragenter",e=>{"text/plain"===e.dataTransfer.types[0]&&(t.classList.add("droppable"),e.preventDefault())}),t.addEventListener("dragover",t=>{"text/plain"===t.dataTransfer.types[0]&&t.preventDefault()}),t.addEventListener("dragleave",e=>{e.relatedTarget.closest(`#${this.type}-projects ul`)!==t&&t.classList.remove("droppable")}),t.addEventListener("dragend",t=>{this.lastDraggedElement.classList.remove("current-drag"),this.lastDraggedElement.classList.add("drag-out"),setTimeout(t=>{this.lastDraggedElement.classList.remove("drag-out")},250)}),t.addEventListener("drop",t=>{t.preventDefault(),t.target.closest("ul").classList.remove("droppable"),this.projects.find(t=>t.id===this.lastDraggedElement.id)||document.getElementById(this.lastDraggedElement.id).querySelector("button:last-of-type").click()})}addProject(t){this.thisListResultMessage.classList.remove("active"),this.projects.push(t),r.a.moveElement(t.id,`#${this.type}-projects ul`),t.update(this.switchProject.bind(this),this.type)}switchProject(t){this.otherProjectList.addProject(this.projects.find(e=>e.id===t)),this.projects=this.projects.filter(e=>e.id!==t),0===this.projects.length&&this.thisListResultMessage.classList.add("active")}}class n{constructor(t,e,s){this.id=e,this.element=this.renderElement(t,e),this.hasActiveTooltip=!1,this.updateProjectListsHandler=s,this.connectMoreInfoButton(),this.connectSwitchButton(t.state),this.connectDrag()}renderElement(t,e){const s=document.createElement("li");return s.dataset.extraInfo=t.tooltipText||"",s.id=e,s.draggable=!0,s.classList.add("projects__card-container"),s.innerHTML=`\n          <div class="projects__card">\n            <div class="card__content">\n              <h3 class="card__title">${t.title||""}</h3>\n              <p class="card__description">${t.description||""}</p>\n            </div>\n            <div class="card__btns">\n              <button class="button alt card__btns-info">Info</button>\n              <button class="button card__btns-finish">${"finished"===t.state?"Activate":"Finish"}</button>\n            </div>\n          </div>`,s}showMoreInfoHandler(){if(this.hasActiveTooltip)return;const t=this.element.dataset.extraInfo;s.e(1).then(s.bind(null,2)).then(e=>{this.tooltip=new e.Tooltip(()=>{this.hasActiveTooltip=!1},t,this.id),this.hasActiveTooltip="true"})}connectDrag(){this.element.addEventListener("dragstart",t=>{t.dataTransfer.setData("text/plain",this.id),t.dataTransfer.effectAllowed="move"})}connectMoreInfoButton(){this.element.querySelector("button:first-of-type").addEventListener("click",this.showMoreInfoHandler.bind(this))}connectSwitchButton(t){let e=this.element.querySelector("button:last-of-type");e=r.a.clearEventListeners(e),e.textContent="finished"===t?"Activate":"Finish",e.addEventListener("click",this.updateProjectListsHandler.bind(null,this.id))}update(t,e){this.updateProjectListsHandler=t,this.connectSwitchButton(e)}}class o{constructor(t){this.retrieveFormElements(),this.addEventListeners(t)}retrieveFormElements(){this.formContainer=document.querySelector(".form__container"),this.form=document.getElementById("form"),this.inputs=document.querySelectorAll(".form input"),this.title=document.getElementById("title"),this.description=document.getElementById("description"),this.tooltip=document.getElementById("notes"),this.popupBtn=document.getElementById("form-popup-btn"),this.overlay=document.querySelector(".overlay")}showError(t,e){const s=t.parentElement,r=s.querySelector("small");s.className="form__control error",r.innerText=e}showSuccess(t){t.parentElement.className="form__control success"}messageToUpper(t){return t.id.charAt(0).toUpperCase()+t.id.slice(1)}checkRequired(t,e,...s){if(""!==e.value){return this.showSuccess(e),s.length>0&&""!==s[0].value.trim()&&s.forEach(t=>{""!==t.value.trim()&&this.showSuccess(t)}),t({title:e.value,description:this.description.value,tooltipText:this.tooltip.value}),!0}return this.showError(e,this.messageToUpper(e)+" is required."),!1}closeProjectCreationForm(){this.formContainer.classList.remove("visible"),this.overlay.classList.remove("visible"),r.a.clearEventListeners(this.overlay)}addEventListeners(t){this.popupBtn.addEventListener("click",t=>{this.overlay=document.querySelector(".overlay"),this.formContainer.classList.add("visible"),this.overlay.classList.add("visible"),this.overlay.addEventListener("click",this.closeProjectCreationForm.bind(this))}),this.formContainer.querySelector(".close-btn").addEventListener("click",this.closeProjectCreationForm.bind(this)),form.addEventListener("submit",e=>{e.preventDefault(),this.checkRequired(t,this.title,this.description,this.tooltip)&&this.inputs.forEach(t=>{t.value=""})})}}const c=new class{constructor(){this.projectsCounter=1,this.form=new o(this.createProject.bind(this)),this.createProjectLists()}createProjectLists(){this.activeProjectsList=new i("active"),this.finishedProjectsList=new i("finished"),this.activeProjectsList.otherProjectList=this.finishedProjectsList,this.finishedProjectsList.otherProjectList=this.activeProjectsList}createProject(t){const e="finished"===t.state?"finished":"active",s="finished"===t.state?this.finishedProjectsList:this.activeProjectsList,r="p"+this.projectsCounter,i=new n(t,r,s.switchProject.bind(s));s.projects.push(i),s.thisListResultMessage.classList.remove("active"),document.querySelector(`#${e}-projects .projects__list`).appendChild(i.element),this.projectsCounter++}};c.createProject({title:"Deliver the new placefinder Web app",description:"Our client needs this done ASAP",tooltipText:"Don't forget to discuss the new proposition with John",state:"active"}),c.createProject({title:"Build a portfolio",description:"Improve brand recognition",tooltipText:"Incorporate A/B testing",state:"finished"})}]);